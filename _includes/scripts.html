<script src="assets/js/main.min.js"></script>

{% include analytics.html %}
{% include fetch_google_scholar_stats.html %}

<script>
  window.toggleLanguage = function(contentId, buttonElement) {
    const selectedContent = document.getElementById(contentId);
    const isCurrentlyVisible = selectedContent.style.display === 'block';
    
    // If the section is already visible, hide it and reset the button
    if (isCurrentlyVisible) {
      selectedContent.style.display = 'none';
      if (contentId === 'spanish-content') {
        buttonElement.innerHTML = 'ğŸ‡ªğŸ‡¸ Ver en EspaÃ±ol';
      } else if (contentId === 'chinese-content') {
        buttonElement.innerHTML = 'ğŸ‡¨ğŸ‡³ æŸ¥çœ‹ä¸­æ–‡ç‰ˆ';
      }
      return;
    }
    
    // Hide all language sections first
    const allLanguageSections = document.querySelectorAll('.language-section');
    allLanguageSections.forEach(section => {
      section.style.display = 'none';
    });
    
    // Reset all buttons to their default state
    document.querySelector('.spanish-btn').innerHTML = 'ğŸ‡ªğŸ‡¸ Ver en EspaÃ±ol';
    document.querySelector('.chinese-btn').innerHTML = 'ğŸ‡¨ğŸ‡³ æŸ¥çœ‹ä¸­æ–‡ç‰ˆ';
    
    // Show the selected section
    selectedContent.style.display = 'block';
    
    // Update button text to close/hide option
    if (contentId === 'spanish-content') {
      buttonElement.innerHTML = 'âŒ Cerrar';
    } else if (contentId === 'chinese-content') {
      buttonElement.innerHTML = 'âŒ å…³é—­';
    }
  };
</script>
